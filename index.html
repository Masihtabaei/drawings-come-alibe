<!DOCTYPE html>
<html lang="en">
<head>
  <title>Generate a Template</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
  
<div class="mx-auto  container p-5 my-5 border " style="text-align:center">
  <img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2FyCS3h88H6C3Tv5NLZDtX%2Fuploads%2FTXSekS9q97fplhuS8AAU%2Flogo-no-background.png?alt=media&token=675f4f49-3ad9-452e-81e3-89b44cd08804" class="w-25 h-25 mb-3" alt="Cinque Terre"> 
  <h1 class="mt-2">Generate a Customized Template</h1>
  <p>Enter your name, age and choose one of our templates. Then we gonna generate a customized template for you.</p>
  <form action="http://127.0.0.1:8000/customized-template/?name=masih&age=23&template_name=fish_template">
    <div class="mx-auto w-25 mb-4 mt-4 form-floating">
		<input type="text" class="form-control" id="name" placeholder="Enter your name &#128515;" name="name">
		<label for="name">Name &#128515;</label>
    </div>
    <div class="mx-auto w-25 mb-4 mt-4 form-floating">
		<input type="text" class="form-control" id="age" placeholder="Enter your age &#128522;" name="age">
		<label for="age">Age &#128522;</label>
	</div>
    <div class="mx-auto w-25 mb-4 mt-4">
		<select id="templates" class="form-select" name="template_name">
		</select> 	
    </div>

    <button type="submit" class="btn btn-primary">Generate My Template</button>
  </form>
</div>


<script>
  // Make an HTTP GET request to retrieve the key-value pairs
  fetch('http://127.0.0.1:8000/template-names')
    .then(response => response.json())
    .then(data => {
      // Get the select element
      const selectElement = document.getElementById('templates');

      // Iterate through the key-value pairs and create options dynamically
      for (const [key, value] of Object.entries(data)) {
        const option = document.createElement('option');
        option.value = value;
        option.text = value;
        selectElement.appendChild(option);
      }
    })
    .catch(error => {
      console.error('Error:', error);
    });
</script>
</body>
</html>
